@(implicit userInfo: UserInfo, flash: Flash)

@formBody(html: Html) = { <div class="modal-body">@html</div> }
@formFooter(html: Html) = { <div class="modal-footer">@html</div> }

<div class="navbar navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="@routes.Application.index()">kn0de</a>
      <ul class="nav">
        <li class="active"><a href="#">AskScience</a></li>
        <li><a href="#">kn0de 1</a></li>
        <li><a href="#">kn0de 2</a></li>
        <li><a href="#">kn0de 3</a></li>
        <li><a href="#">kn0de 4</a></li>
        <li><a href="#">kn0de 5</a></li>
        <li><a href="#">kn0de 6</a></li>
        <li><a href="#">kn0de 7</a></li>
      </ul>

      <p class="navbar-text pull-right">
        @{userInfo.maybeUser match {
          case Some(user) => user.name
          case None => <a href="#login-modal" data-toggle="modal">login</a>
        }}
      </p>
    </div>
  </div>
</div>

@if(userInfo.maybeUser.isEmpty) { 
    <div id="login-modal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
        <h3 id="loginModalHeader">Login</h3>
      </div>
      @{views.html.login(userInfo.loginForm, formBody, formFooter)}
    </div>
}
